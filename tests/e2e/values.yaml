# Shared configuration values for Kind deployment

# RabbitMQ configuration
rabbitmq:
  auth:
    username: asya
    password: asya-password
    erlangCookie: asya-secret-cookie
  persistence:
    enabled: true
    size: 2Gi  # Smaller for local deployment
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

# PostgreSQL configuration
postgresql:
  auth:
    username: asya
    password: asya-db-password
    database: asya
  primary:
    persistence:
      enabled: true
      size: 2Gi  # Smaller for local deployment
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 250m
        memory: 256Mi

# KEDA configuration
keda:
  resources:
    operator:
      requests:
        cpu: 50m
        memory: 64Mi
      limits:
        cpu: 100m
        memory: 128Mi
    metricsServer:
      requests:
        cpu: 50m
        memory: 64Mi
      limits:
        cpu: 100m
        memory: 128Mi

# Asya Operator configuration
asya-operator:
  image:
    repository: asya-operator
    tag: latest
    pullPolicy: IfNotPresent
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 100m
      memory: 128Mi

# Asya Gateway configuration
asya-gateway:
  image:
    repository: asya-gateway
    tag: latest
    pullPolicy: IfNotPresent
  service:
    type: NodePort
    port: 80
  config:
    port: "8080"
    rabbitmqURL: "amqp://asya:asya-password@asya-rabbitmq.asya.svc.cluster.local:5672"
    rabbitmqExchange: asya
  postgresql:
    enabled: true
    auth:
      database: asya_gateway
      username: asya
      password: asya-db-password
    primary:
      persistence:
        enabled: true
        size: 2Gi
      resources:
        requests:
          cpu: 100m
          memory: 128Mi
        limits:
          cpu: 250m
          memory: 256Mi
  migration:
    enabled: true
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 250m
      memory: 256Mi
