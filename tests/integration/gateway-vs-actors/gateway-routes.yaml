# Gateway test tools configuration
# Used by gateway E2E integration tests

defaults:
  progress: true  # Enable SSE progress streaming for all tools
  timeout: 30     # 30 second timeout for test tools

tools:
  # Simple echo tool - single actor
  - name: test_echo
    description: Echo back the input message
    parameters:
      message:
        type: string
        description: Message to echo
        required: true
    route: [test-echo-queue]

  # Progress streaming test - shows multiple heartbeat updates
  - name: test_progress
    description: Test SSE progress streaming with multiple updates
    parameters:
      steps:
        type: integer
        description: Number of progress steps to simulate
        default: 3
    route: [test-progress-queue]

  # Multi-step pipeline - tests routing through multiple actors
  - name: test_pipeline
    description: Test multi-step pipeline processing
    parameters:
      value:
        type: integer
        description: Value to process through pipeline
        required: true
    route: [test-doubler-queue, test-incrementer-queue]

  # Error handling test
  - name: test_error
    description: Test error handling and error heartbeats
    parameters:
      should_fail:
        type: boolean
        description: Whether the handler should fail
        default: true
    route: [test-error-queue]

  # Timeout test
  - name: test_timeout
    description: Test timeout handling
    parameters:
      sleep_seconds:
        type: integer
        description: How long to sleep (should exceed timeout)
        default: 60
    route: [test-timeout-queue]
    timeout: 10  # Short timeout for testing
